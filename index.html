<!DOCTYPE html>
<html>
<head>
<title>Criptomoedas</title>
<style>
body {
  font-family: sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f0f0f0;
}

#container {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

#crypto-selector {
  display: flex;
  margin-bottom: 20px;
}

.crypto-button {
  padding: 10px 20px;
  border: none;
  cursor: pointer;
  font-weight: bold;
}

#bitcoin-button {
  background-color: gold;
  color: #fff;
}

#ethereum-button {
  background-color: silver;
  color: #fff;
}

#solana-button {
  background-color: purple;
  color: #fff;
}

#crypto-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
}

#crypto-name {
  font-size: 2em;
  margin-bottom: 10px;
  text-transform: uppercase;
}

#price {
  font-size: 1.5em;
  margin-bottom: 10px;
}

#chart {
  width: 800px;
  height: 400px;
}
</style>
</head>
<body>
<div id="container">
  <h1>Criptomoedas</h1>

  <div id="crypto-selector">
    <button class="crypto-button" id="bitcoin-button">Bitcoin</button>
    <button class="crypto-button" id="ethereum-button">Ethereum</button>
    <button class="crypto-button" id="solana-button">Solana</button>
  </div>

  <div id="crypto-info">
    <h2 id="crypto-name">Bitcoin</h2>
    <p id="price">Carregando...</p>
    <div id="chart"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const bitcoinButton = document.getElementById('bitcoin-button');
const ethereumButton = document.getElementById('ethereum-button');
const solanaButton = document.getElementById('solana-button');
const cryptoName = document.getElementById('crypto-name');
const price = document.getElementById('price');
const chart = document.getElementById('chart');

let currentCrypto = 'bitcoin';

function updateCryptoInfo(crypto) {
  currentCrypto = crypto;
  cryptoName.textContent = crypto.toUpperCase();

  fetch(`https://api.coingecko.com/api/v3/simple/price/${bitcoin, ethereum, solana}?vs_currency=usd`)
    .then(response => response.json())
    .then(data => {
      price.textContent = `$${data[crypto].usd.toLocaleString()}`;
    })
    .catch(error => {
      price.textContent = "Erro ao carregar o preÃ§o.";
      console.error("Erro na API CoinGecko:", error);
    });

  fetch(`https://api.coingecko.com/api/v3/coins/${bitcoin, ethereum, solana}/market_chart?vs_currency=usd&days=30`)
    .then(response => response.json())
    .then(data => {
      const prices = data.prices.map(price => ({
        x: new Date(price[0]),
        y: price[1]
      }));

      new Chart(chart, {
        type: 'line',
        data: {
          datasets: [{
            data: prices,
            borderColor: getCryptoColor(crypto),
            borderWidth: 2,
            tension: 0.4,
            fill: false
          }]
        },
        options: {
          scales: {
            x: {
              type: 'time'
            },
            y: {
              beginAtZero: false
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
    })
    .catch(error => {
      console.error("Erro na API CoinGecko:", error);
    });
}

function getCryptoColor(crypto) {
  switch (crypto) {
    case 'bitcoin':
      return 'gold';
    case 'ethereum':
      return 'silver';
    case 'solana':
      return 'purple';
  }
}

bitcoinButton.addEventListener('click', () => updateCryptoInfo('bitcoin'));
ethereumButton.addEventListener('click', () => updateCryptoInfo('ethereum'));
solanaButton.addEventListener('click', () => updateCryptoInfo('solana'));

updateCryptoInfo(currentCrypto);
</script>
</body>
</html>
